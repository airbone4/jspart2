<html>
<head>
<style>

</style>
<script>
function packHtml(ahtml){
var doc = document.implementation.createHTMLDocument('');
doc.write(ahtml);

// You must manually set the xmlns if you intend to immediately serialize 
// the HTML document to a string as opposed to appending it to a 
// <foreignObject> in the DOM
doc.documentElement.setAttribute('xmlns', doc.documentElement.namespaceURI);

// Get well-formed markup
ahtml = (new XMLSerializer()).serializeToString(doc);
return ahtml;
}
 
 function doClassStuff(){
document.addEventListener('click', function(e) {
    e = e || window.event;
    var target = e.target || e.srcElement,
        text = target.textContent || text.innerText;   
		console.log(target.id);
}, false);
}

 
</script>
</head>
<body onload="doClassStuff()">
<h1>參考</h1>
<li/><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Drawing_DOM_objects_into_a_canvas">MSDN 參考</a>
<li/><a href="http://www.zhangxinxu.com/wordpress/2017/08/svg-foreignobject/">SVG <foreignObject>简介与截图等应用</a>
<h2> 測試1</h2>
 svg 模版：<br>
 <pre>
&lt;svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'&gt;
  &lt;foreignObject width='100%' height='100%'&gt;
    &lt;div xmlns='http://www.w3.org/1999/xhtml' style='font-size:40px'&gt;
      <span style="color:green;font-weight:bold">html &#23383;&#20018;</span>
    &lt;/div&gt;
  &lt;/foreignObject&gt;
&lt;/svg&gt;
</pre>
<textarea id="textcodeout_code1" ></textarea>
<br>

<canvas id="canvas"width="200" height="100" style="border:1px solid #000000;">
<script id="textcodein_code1">


const ctx = document.getElementById("canvas").getContext("2d");
const data = `
<svg xmlns='http://www.w3.org/2000/svg' width='200' height='200'>
  <foreignObject width='100%' height='100%'>
    <div xmlns='http://www.w3.org/1999/xhtml' style='font-size:40px'>
      <em>I</em> like <span style='color:white; text-shadow:0 0 2px blue;'>CANVAS</span>
    </div>
  </foreignObject>
</svg>
 
`;
const img = new Image();
const svg = new Blob([data], {type: "image/svg+xml;charset=utf-8"});
const url = URL.createObjectURL(svg);
img.onload = function() {
  ctx.drawImage(img, 0, 0);
  URL.revokeObjectURL(url);
};
img.src = url;
</script>
 
</body>

</html>
